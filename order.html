<!DOCTYPE html>
<html>
<head>
  <title>Order | The Rajputana Darbar</title>
  <style>
    body { font-family:Arial; background:#fff8f0; padding:20px; }
    h1 { color:#8e2a2a; text-align:center; }

    .menu, .cart {
      max-width:500px;
      margin:20px auto;
      background:white;
      padding:20px;
      border-radius:8px;
    }

    .item, .cart-item {
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin:10px 0;
    }

    button {
      background:#8e2a2a;
      color:white;
      border:none;
      padding:6px 10px;
      cursor:pointer;
      border-radius:4px;
    }

    .qty-btn {
      width:32px;
      height:32px;
      font-size:18px;
    }

    .place {
      width:100%;
      margin-top:10px;
      font-size:16px;
      padding:10px;
    }

    input {
      width:100%;
      padding:8px;
      margin:6px 0;
    }
  </style>
</head>
<body>

<h1>üßæ Place Your Order</h1>

<div class="menu">
  <h3>üçΩÔ∏è Menu</h3>

  <div class="item">
    <span>Butter Chicken</span>
    <button onclick="addItem('Butter Chicken')">Add</button>
  </div>

  <div class="item">
    <span>Paneer Tikka</span>
    <button onclick="addItem('Paneer Tikka')">Add</button>
  </div>

  <div class="item">
    <span>Dal Makhani</span>
    <button onclick="addItem('Dal Makhani')">Add</button>
  </div>
</div>

<div class="cart">
  <h3>üõí Cart</h3>
  <div id="cartItems">Cart is empty</div>

  <input id="name" placeholder="Customer Name" required>
  <input id="phone" placeholder="Phone Number" required>

  <button class="place" onclick="sendWhatsApp()">üì≤ Order via WhatsApp</button>
  <button class="place" onclick="sendEmail()">üìß Order via Email</button>
</div>

<script>
let cart = {};

function addItem(item) {
  cart[item] = (cart[item] || 0) + 1;
  renderCart();
}

function increase(item) {
  cart[item]++;
  renderCart();
}

function decrease(item) {
  cart[item]--;
  if (cart[item] <= 0) delete cart[item];
  renderCart();
}

function renderCart() {
  const container = document.getElementById("cartItems");
  if (Object.keys(cart).length === 0) {
    container.innerHTML = "Cart is empty";
    return;
  }

  let html = "";
  for (let item in cart) {
    html += `
      <div class="cart-item">
        <span>${item}</span>
        <div>
          <button class="qty-btn" onclick="decrease('${item}')">‚àí</button>
          <strong>${cart[item]}</strong>
          <button class="qty-btn" onclick="increase('${item}')">+</button>
        </div>
      </div>
    `;
  }
  container.innerHTML = html;
}

function orderText() {
  let text = "Order Details:\n";
  for (let item in cart) {
    text += `${item} x ${cart[item]}\n`;
  }
  return text;
}

function sendWhatsApp() {
  const name = document.getElementById("name").value;
  const phone = document.getElementById("phone").value;

  if (!name || !phone || Object.keys(cart).length === 0) {
    alert("Please add items and fill customer details");
    return;
  }

  const message =
`New Order ‚Äì The Rajputana Darbar

Customer: ${name}
Phone: ${phone}

${orderText()}`;

  window.open(
    `https://wa.me/+916388442976?text=${encodeURIComponent(message)}`,
    "_blank"
  );
}

function sendEmail() {
  const name = document.getElementById("name").value;
  const phone = document.getElementById("phone").value;

  if (!name || !phone || Object.keys(cart).length === 0) {
    alert("Please add items and fill customer details");
    return;
  }

  const subject = "New Order | The Rajputana Darbar";
  const body =
`Customer: ${name}
Phone: ${phone}

${orderText()}`;

  window.location.href =
    `mailto:drajputanadarbar@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
}
</script>

</body>
</html>
